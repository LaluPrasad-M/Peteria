{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Reva\\\\Major Project\\\\peteria002\\\\screen\\\\PetsDetails.js\";\nimport React, { useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport firebase from 'firebase';\nimport Icon from \"@expo/vector-icons/MaterialCommunityIcons\";\n\nvar _Dimensions$get = Dimensions.get('window'),\n    screenWidth = _Dimensions$get.width;\n\nvar imageWidth = screenWidth - 20;\nvar imageHeight = imageWidth * .8;\nexport default function PetDetailsScreen() {\n  var DetailsScreen = firebase.database().ref(\"DetailsScreen\");\n\n  var _React$useState = React.useState({\n    id: \"Loading\",\n    type: \"Loading\"\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      details = _React$useState2[0],\n      setDetails = _React$useState2[1];\n\n  var _React$useState3 = React.useState(\"Loading\"),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      data = _React$useState4[0],\n      setData = _React$useState4[1];\n\n  React.useEffect(function () {\n    DetailsScreen.on(\"value\", function (detailsSnap) {\n      setDetails(detailsSnap.val());\n      console.log(detailsSnap.val());\n\n      if (detailsSnap.val().id[0] === \"0\") {\n        var Dogs = firebase.database().ref(\"Dogs\");\n        Dogs.on(\"value\", function (dogsSnapshot) {\n          var dogs = dogsSnapshot.val();\n          var requiredPet = dogs.filter(function (dog) {\n            return detailsSnap.val().id === dog.id;\n          });\n          setData(requiredPet[0]);\n        });\n      } else if (detailsSnap.val().id[0] === \"1\") {\n        var Cats = firebase.database().ref(\"Cats\");\n        Cats.on(\"value\", function (catsSnapshot) {\n          var cats = catsSnapshot.val();\n          var requiredPet = cats.filter(function (cat) {\n            return detailsSnap.val().id === cat.id;\n          });\n          setData(requiredPet[0]);\n        });\n      } else if (detailsSnap.val().id[0] === \"2\") {\n        var Fishes = firebase.database().ref(\"Fishes\");\n        Fishes.on(\"value\", function (fishesSnapshot) {\n          var fishes = fishesSnapshot.val();\n          var requiredPet = fishes.filter(function (fish) {\n            return detailsSnap.val().id === fish.id;\n          });\n          setData(requiredPet[0]);\n        });\n      }\n    });\n  }, []);\n\n  var handleCartPress = function handleCartPress() {\n    var myCart = firebase.database().ref(\"Cart\");\n    myCart.set(data);\n    myCart.on(\"value\", function (cartItems) {\n      var cartItemsVal = Object.values(cartItems.val());\n      var ItemPresentInCart = cartItemsVal.filter(function (cartItem) {\n        return data.id !== cartItem.id;\n      });\n      console.log([data, {\n        ItemPresentInCart: ItemPresentInCart\n      }]);\n    });\n  };\n\n  var handleBuyPress = function handleBuyPress() {\n    console.log(data.name, \" is added to cart\");\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: [{\n      borderRadius: \"10px\"\n    }, styles.shadow],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, React.createElement(Image, {\n    style: styles.image,\n    source: {\n      uri: data.imageUri\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  })), React.createElement(View, {\n    style: [styles.name, styles.shadow],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.nameTag,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, data.name)), React.createElement(View, {\n    style: [{\n      alignSelf: \"flex-start\",\n      width: \"100%\",\n      padding: \"10px\"\n    }, styles.shadow],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontWeight: \"bold\",\n      fontSize: 17\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 23\n    }\n  }, \"Cost:          \"), data.cost), React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontWeight: \"bold\",\n      fontSize: 17\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 23\n    }\n  }, \"Life Span:     \"), data.lifeSpan), React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontWeight: \"bold\",\n      fontSize: 17\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 23\n    }\n  }, \"Current Age:   \"), data.currentAge), React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontWeight: \"bold\",\n      fontSize: 17\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 23\n    }\n  }, \"Location:      \"), data.location), React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontWeight: \"bold\",\n      fontSize: 17\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 23\n    }\n  }, \"Disabled:      \"), data.handicap)), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return handleCartPress();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: [styles.name, styles.shadow, {\n      top: 10,\n      flexDirection: \"row\",\n      paddingTop: \"9px\"\n    }],\n    onPress: function onPress() {\n      return handleCartPress();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, React.createElement(Icon, {\n    size: 20,\n    name: \"cart-outline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }), React.createElement(Text, {\n    style: {\n      fontWeight: \"bold\",\n      fontSize: 17\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 25\n    }\n  }, \"Add to cart\"))), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return handleBuyPress();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: [styles.name, styles.shadow, {\n      top: 10,\n      flexDirection: \"row\",\n      paddingTop: \"9px\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, React.createElement(Icon, {\n    size: 20,\n    name: \"cart-outline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }), React.createElement(Text, {\n    style: {\n      fontWeight: \"bold\",\n      fontSize: 17\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 21\n    }\n  }, \"Buy\"))));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: \"10px\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundColor: \"#ccc\"\n  },\n  image: {\n    borderRadius: \"10px\",\n    width: imageWidth,\n    height: imageHeight\n  },\n  shadow: {\n    shadowColor: '#000000',\n    shadowOffset: {\n      width: 0,\n      height: 3\n    },\n    shadowRadius: \"10px\",\n    shadowOpacity: 1.0\n  },\n  name: {\n    top: -30,\n    backgroundColor: \"#fff\",\n    borderRadius: \"30px\",\n    height: '40px',\n    width: \"250px\",\n    margin: \"3px\",\n    justifyContent: \"center\",\n    alignContent: \"center\"\n  },\n  nameTag: {\n    alignSelf: \"center\",\n    fontWeight: \"bold\",\n    fontSize: 20\n  }\n});","map":{"version":3,"sources":["D:/Reva/Major Project/peteria002/screen/PetsDetails.js"],"names":["React","useState","firebase","Icon","Dimensions","get","screenWidth","width","imageWidth","imageHeight","PetDetailsScreen","DetailsScreen","database","ref","id","type","details","setDetails","data","setData","useEffect","on","detailsSnap","val","console","log","Dogs","dogsSnapshot","dogs","requiredPet","filter","dog","Cats","catsSnapshot","cats","cat","Fishes","fishesSnapshot","fishes","fish","handleCartPress","myCart","set","cartItems","cartItemsVal","Object","values","ItemPresentInCart","cartItem","handleBuyPress","name","styles","container","borderRadius","shadow","image","uri","imageUri","nameTag","alignSelf","padding","fontWeight","fontSize","cost","lifeSpan","currentAge","location","handicap","top","flexDirection","paddingTop","StyleSheet","create","flex","justifyContent","alignItems","backgroundColor","height","shadowColor","shadowOffset","shadowRadius","shadowOpacity","margin","alignContent"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { StyleSheet, Text,Image, View,ScrollView, TextInput, FlatList, TouchableOpacity,Dimensions  } from 'react-native';\r\n\r\nimport firebase from 'firebase';\r\nimport Icon from 'react-native-vector-icons/MaterialCommunityIcons';\r\n\r\nconst { width: screenWidth} = Dimensions.get('window')\r\n\r\nconst imageWidth = screenWidth-20;\r\nconst imageHeight = imageWidth*.8;\r\n\r\n\r\nexport default function PetDetailsScreen() {\r\n    // const { itemId, otherParam } = route.params;\r\n    const DetailsScreen = firebase.database().ref(\"DetailsScreen\");\r\n    const [details,setDetails] = React.useState({\r\n        id:\"Loading\",\r\n        type:\"Loading\"\r\n    });\r\n\r\n    const [data,setData] = React.useState(\"Loading\")\r\n    \r\n    React.useEffect(() => {\r\n        DetailsScreen.on(\"value\",detailsSnap => {\r\n            setDetails(detailsSnap.val());\r\n            console.log(detailsSnap.val())\r\n            if(detailsSnap.val().id[0]===\"0\"){\r\n                const Dogs = firebase.database().ref(\"Dogs\");\r\n                Dogs.on(\"value\",dogsSnapshot => {\r\n                    var dogs = dogsSnapshot.val();\r\n                    var requiredPet = dogs.filter(dog => detailsSnap.val().id === dog.id)\r\n                    setData(requiredPet[0]);\r\n                })\r\n            }\r\n            else if(detailsSnap.val().id[0]===\"1\"){\r\n                const Cats = firebase.database().ref(\"Cats\");\r\n                Cats.on(\"value\",catsSnapshot => {\r\n                    var cats = catsSnapshot.val();\r\n                    var requiredPet = cats.filter(cat => detailsSnap.val().id === cat.id)\r\n                    setData(requiredPet[0]);\r\n                })\r\n            }\r\n            else if(detailsSnap.val().id[0]===\"2\"){\r\n                const Fishes = firebase.database().ref(\"Fishes\");\r\n                Fishes.on(\"value\",fishesSnapshot => {\r\n                    var fishes = fishesSnapshot.val();\r\n                    var requiredPet = fishes.filter(fish => detailsSnap.val().id === fish.id)\r\n                    setData(requiredPet[0]);\r\n                })\r\n            } \r\n        })  \r\n    },[]);\r\n\r\n    const handleCartPress = () => {\r\n        const myCart = firebase.database().ref(\"Cart\"); \r\n        myCart.set(data);\r\n        myCart.on(\"value\",cartItems => {\r\n            var cartItemsVal = Object.values(cartItems.val());\r\n            var ItemPresentInCart = cartItemsVal.filter(cartItem => data.id !== cartItem.id);\r\n                // myCart.set([data,ItemPresentInCart]);\r\n                console.log([data,{ItemPresentInCart}]);\r\n        })\r\n    }\r\n\r\n    const handleBuyPress = () => {\r\n        console.log(data.name,\" is added to cart\");\r\n    }\r\n\r\n    return(\r\n        <View style={styles.container}>\r\n            <View style={[{borderRadius:\"10px\"},styles.shadow]}>\r\n                <Image \r\n                    style = {styles.image}\r\n                    source={{uri:data.imageUri}}\r\n                />\r\n            </View>\r\n            <View style={[styles.name,styles.shadow]}>\r\n                <Text style={styles.nameTag}>{data.name}</Text>\r\n            </View>\r\n\r\n            <View style={[{alignSelf:\"flex-start\",width:\"100%\",padding:\"10px\"},styles.shadow]}>\r\n                <Text><Text style={{fontWeight:\"bold\",fontSize:17}}>Cost:          </Text>{data.cost}</Text>\r\n                <Text><Text style={{fontWeight:\"bold\",fontSize:17}}>Life Span:     </Text>{data.lifeSpan}</Text>\r\n                <Text><Text style={{fontWeight:\"bold\",fontSize:17}}>Current Age:   </Text>{data.currentAge}</Text>\r\n                <Text><Text style={{fontWeight:\"bold\",fontSize:17}}>Location:      </Text>{data.location}</Text>\r\n                <Text><Text style={{fontWeight:\"bold\",fontSize:17}}>Disabled:      </Text>{data.handicap}</Text>\r\n            </View>\r\n\r\n            <TouchableOpacity onPress = {() => handleCartPress()}>\r\n                <View \r\n                    style={[styles.name,styles.shadow,{top:10,flexDirection:\"row\",paddingTop:\"9px\"}]}\r\n                    onPress = {() => handleCartPress()}\r\n                    >\r\n                    <Icon\r\n                        size={20}\r\n                        name=\"cart-outline\"  \r\n                        />\r\n                        <Text style={{fontWeight:\"bold\",fontSize:17}}>Add to cart</Text>\r\n                </View>\r\n            </TouchableOpacity>            \r\n\r\n            <TouchableOpacity onPress = {() => handleBuyPress()}>\r\n                <View style={[styles.name,styles.shadow,{top:10,flexDirection:\"row\",paddingTop:\"9px\"}]}>\r\n                    <Icon\r\n                        size={20}\r\n                        name=\"cart-outline\"  \r\n                        />\r\n                    <Text style={{fontWeight:\"bold\",fontSize:17}}>Buy</Text>\r\n            </View>\r\n            </TouchableOpacity>            \r\n\r\n        </View>\r\n    );\r\n}\r\n\r\n\r\nconst styles= StyleSheet.create({\r\n    container:{\r\n        flex:1,\r\n        padding:\"10px\",\r\n        justifyContent:\"center\",\r\n        alignItems:\"center\",\r\n        backgroundColor:\"#ccc\",\r\n    },\r\n\r\n    image:{\r\n        borderRadius:\"10px\",\r\n        width:imageWidth,\r\n        height:imageHeight,\r\n    },\r\n    shadow:{\r\n        shadowColor: '#000000',\r\n        shadowOffset: {\r\n            width: 0,\r\n            height: 3\r\n        },\r\n        shadowRadius: \"10px\",\r\n        shadowOpacity: 1.0,\r\n    },\r\n    name:{\r\n        top:-30,\r\n        backgroundColor:\"#fff\",\r\n        borderRadius:\"30px\",\r\n        height:'40px',\r\n        width:\"250px\",\r\n        margin:\"3px\",\r\n        justifyContent:\"center\",\r\n        alignContent:\"center\",\r\n    },\r\n    nameTag:{\r\n        alignSelf:\"center\",\r\n        fontWeight:\"bold\",\r\n        fontSize:20,\r\n    }\r\n\r\n\r\n});"]},"metadata":{},"sourceType":"module"}